<template>
  <div class="process-wrapper">
    <h1 class="process-title">
      âœ¨ <span class="gradient-text">How to Get Insured?</span>
    </h1>

    <div class="timeline">
      <template for:each={steps} for:item="step" for:index="index">
        <div class="timeline-item" key={step.groupKey}>

          <article
            class={step.computedClass}
            tabindex="0"
            aria-labelledby={step.ariaLabelledBy}
            aria-describedby={step.ariaDescribedBy}
            role="region"
          >
            <div class="timeline-dot">
              <span class="step-badge">{step.stepNumber}</span>
            </div>

            <div class="step-card">
              <img src={step.image} alt={step.imgAlt} class="step-image" />
              <div class="step-content">
                <h2 id={step.ariaLabelledBy}>{step.title}</h2>
                <lightning-formatted-rich-text
                  id={step.ariaDescribedBy}
                  value={step.description}
                ></lightning-formatted-rich-text>
              </div>
            </div>
          </article>

          <template if:true={step.showArrow}>
            <div class="arrow-wrapper" key={step.arrowKey}>
              <div class="arrow-icon" aria-hidden="true">â¬‡</div>
            </div>
          </template>
        </div>
      </template>
    </div>

    <div class="final-cta">
      <p class="cta-message">
        ðŸŽ¯ All clear? You're just one click away from finding the perfect protection.
      </p>
      <button
        class="cta-button"
        title={darkModeToggleTitle}
        onclick={handleNavigate}
      >
        <span class="button-text">Check Our Products</span>
        <span class="cart-emoji" aria-hidden="true">ðŸ›’</span>
      </button>
    </div>
  </div>
</template>
